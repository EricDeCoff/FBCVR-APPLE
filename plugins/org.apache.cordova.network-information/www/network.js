function NetworkConnection(){this.type="unknown"}var exec=require("cordova/exec"),cordova=require("cordova"),channel=require("cordova/channel"),utils=require("cordova/utils");"undefined"!=typeof navigator&&utils.defineGetter(navigator,"onLine",function(){return"none"!=this.connection.type}),NetworkConnection.prototype.getInfo=function(n,e){exec(n,e,"NetworkStatus","getConnectionInfo",[])};var me=new NetworkConnection,timerId=null,timeout=500;channel.createSticky("onCordovaConnectionReady"),channel.waitForInitialization("onCordovaConnectionReady"),channel.onCordovaReady.subscribe(function(){me.getInfo(function(n){me.type=n,"none"===n?timerId=setTimeout(function(){cordova.fireDocumentEvent("offline"),timerId=null},timeout):(null!==timerId&&(clearTimeout(timerId),timerId=null),cordova.fireDocumentEvent("online")),2!==channel.onCordovaConnectionReady.state&&channel.onCordovaConnectionReady.fire()},function(n){2!==channel.onCordovaConnectionReady.state&&channel.onCordovaConnectionReady.fire(),console.log("Error initializing Network Connection: "+n)})}),module.exports=me;