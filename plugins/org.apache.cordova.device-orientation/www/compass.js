var argscheck=require("cordova/argscheck"),exec=require("cordova/exec"),utils=require("cordova/utils"),CompassHeading=require("./CompassHeading"),CompassError=require("./CompassError"),timers={},compass={getCurrentHeading:function(e,r,a){argscheck.checkArgs("fFO","compass.getCurrentHeading",arguments);var s=function(r){var a=new CompassHeading(r.magneticHeading,r.trueHeading,r.headingAccuracy,r.timestamp);e(a)},i=r&&function(e){var a=new CompassError(e);r(a)};exec(s,i,"Compass","getHeading",[a])},watchHeading:function(e,r,a){argscheck.checkArgs("fFO","compass.watchHeading",arguments);var s=void 0!==a&&void 0!==a.frequency?a.frequency:100,i=void 0!==a&&void 0!==a.filter?a.filter:0,t=utils.createUUID();return i>0?(timers[t]="iOS",compass.getCurrentHeading(e,r,a)):timers[t]=window.setInterval(function(){compass.getCurrentHeading(e,r)},s),t},clearWatch:function(e){e&&timers[e]&&("iOS"!=timers[e]?clearInterval(timers[e]):exec(null,null,"Compass","stopHeading",[]),delete timers[e])}};module.exports=compass;